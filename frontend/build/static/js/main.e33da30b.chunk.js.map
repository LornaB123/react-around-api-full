{"version":3,"sources":["contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoToolTip.js","images/logo.svg","utils/api.js","utils/auth.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["createContext","Header","props","useState","isOpen","setIsOpen","className","src","logo","alt","email","onClick","localStorage","removeItem","handleLog","Card","card","onCardDelete","onCardClick","onCardLike","currentUser","useContext","CurrentUserContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","aria-label","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","about","map","Footer","PopupWithImage","onClose","PopupWithForm","onSubmit","buttonText","children","title","action","noValidate","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","value","onChange","target","placeholder","required","maxLength","minLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","setLink","Login","setEmail","password","setPassword","to","handleAuth","Register","error","setError","Object","values","filter","handleRegister","validationMessage","InfoToolTip","registered","toggle","currentTarget","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","all","getUserInfo","getInitialCards","method","body","JSON","stringify","catch","err","console","log","cardID","BASE_URL","ProtectedRoute","component","exact","path","loggedIn","App","editAvatarOpen","setEditAvatarOpen","editProfileOpen","setEditProfileOpen","addCardOpen","setAddCardOpen","deletePopupOpen","setDeletePopupOpen","imagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setRegistered","isOpenToolTip","setIsOpenToolTip","history","useHistory","closeAllPopups","handleClosePopups","toggleToolTip","referrerPolicy","authorize","token","setItem","jwt","getItem","data","Provider","register","push","removeCard","cardList","c","addLike","removeLike","newCard","newCards","onCloseButtons","setUserAvatar","finally","setUserInfo","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.e33da30b.chunk.js","sourcesContent":["import {createContext} from 'react';\n\nexport default createContext();\n\n","import { useState } from 'react'\n\nfunction Header(props) {\n    const [isOpen,setIsOpen] = useState(false)\n\n    function handleClick() {\n        setIsOpen(!isOpen)\n    }\n    function logout() {\n        localStorage.removeItem('jwt');\n        props.handleLog()\n    }\n\n    return (\n        <header className={`header ${isOpen && 'header_open'}`}>\n            <img src={props.logo} alt=\"logo\" className=\"logo\" />\n            <div className={`header__wrapper ${isOpen && 'header__wrapper_open'}`}>\n                <p className='header__email'>{ props.email }</p>\n                <button\n                    className='header__log'\n                    onClick={logout}>Log out</button>\n            </div>\n            <button \n                className={`header__icon ${isOpen && 'header__icon_cross'}`}\n                onClick={handleClick} />\n        </header>\n    )\n}\n\nexport default Header;","import React, {useContext} from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n   const {card, onCardDelete, onCardClick, onCardLike} = props;\n   const currentUser = useContext(CurrentUserContext);\n\n   // Checking if you are the owner of the current card\n    const isOwn = card.owner._id === currentUser._id;\n   // Creating a variable which you'll then set in `className` for the delete button\n    const cardDeleteButtonClassName = (\n    `elements__trash ${isOwn ? 'elements__trash_visible' : 'elements__trash'}`\n     ); \n\n  // Check if the card was liked by the current user\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Create a variable which you then set in `className` for the like button\n    const cardLikeButtonClassName = `elements__favorite ${isLiked ? 'elements__favorite_selected' : 'elements__favorite'}`; \n\n    return(\n        <figure className=\"elements__element\">\n                <img className=\"elements__element-pic\" alt=\"card\" onClick ={() => onCardClick(card)} src={card && card.link}/>\n                <figcaption className=\"elements__caption\">{card.name}</figcaption>\n                <div className = \"elements__favorite-container\">\n                    <button className={cardLikeButtonClassName} onClick= {() => onCardLike(card)} type=\"button\" aria-label=\"Like\"></button>\n                    <p className=\"elements__likes\">{card.likes.length}</p>\n                </div>\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick ={() => onCardDelete(card)} aria-label=\"Delete\"></button>\n        </figure>\n    );\n}\n\nexport default Card;","import React, {useContext} from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n    const {\n        cards,\n        onEditAvatar,\n        onEditProfile,\n        onAddPlace,\n        onCardDelete,\n        onCardClick,\n        onCardLike\n        } = props;\n    const currentUser = useContext(CurrentUserContext);\n\n   //JSX of main section\n    return(\n            <main className=\"content\">\n                <section className=\"profile\">\n                        <div className=\"profile__avatar\">\n                            <img className=\"profile__image\" src={currentUser.avatar} alt={currentUser.avatar}/>\n                            <button onClick={onEditAvatar} className=\"profile__image-edit\" type=\"button\" aria-label=\"Edit Avatar\"></button>\n                        </div>\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__info-title\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" onClick={onEditProfile} aria-label=\"Edit Profile\"></button>\n                        <p className=\"profile__info-subtitle\">{currentUser.about}</p>   \n                    </div>\n                    <button className=\"profile__add-button\" onClick={onAddPlace} aria-label=\"Add\"></button>\n                </section>\n                <section className=\"elements\">\n                    <>\n                        {cards.map((card) => (\n                        <Card\n                        key={card._id}\n                        card = {card}\n                        onCardDelete = {onCardDelete}\n                        onCardClick = {onCardClick}\n                        onCardLike = {onCardLike}\n                        />\n                        )\n                        )}\n                    </>\n                </section>\n            </main>\n    );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__info\">Â© 2020 Around The U.S.</p>\n        </footer>\n    );\n}\n\nexport default Footer;\n\n\n\n","import React from 'react';\n\nfunction PopupWithImage(props){\n    const {card, isOpen, onClose} = props;\n\n    return (\n        <div className= {`popup popup_type_image ${isOpen ? \"popup_open\" : \"\"}`}>\n            <div className=\"popup_container_type_image\">\n                <img alt=\"Popup\" className=\"popup__image\" src={card && card.link} />\n                <h3 className= \"popup__caption\">{card.name}</h3>\n                <button className=\"popup__close-button\" onClick={onClose} type=\"reset\" aria-label=\"Close Form\"></button>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithImage;","import React from 'react';\nfunction PopupWithForm (props) {\n    const {\n        name, \n        onSubmit,\n        onClose,\n        isOpen,\n        buttonText,\n        children,\n        title}\n        = props; \n\n    return (\n\n        <div className = {`popup popup_${name} ${isOpen ? \"popup_open\" : \"\"}`} onClick={onClose}>\n            <div className=\"popup__container\">\n                <form action=\"#\" className= {`popup__form ${name}-form`} onSubmit = {onSubmit} noValidate>\n                    <h2 className=\"popup__title\">{title}</h2> \n                    {children}\n                    <button className=\"popup__save\" type=\"submit\" aria-label=\"Save\">{buttonText}</button>\n                    <button className=\"popup__close-button\" onClick= {onClose} type=\"reset\" aria-label=\"Close Form\"></button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm.js';\nimport React, {useState, useContext, useEffect} from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n    const [name, setName] = useState(' ');\n    const [description, setDescription] = useState(' ');\n    // Subscription to the context\n    const currentUser = useContext(CurrentUserContext);\n\n    function handleChangeName(e){\n        setName(e.target.value);\n    }\n\n    function handleChangeAbout(e){\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Prevent the browser from navigating to the form address\n        e.preventDefault();\n        // Pass the values of the managed components to the external handler\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n        } \n\n    // After loading the current user from the API\n    // their data will be used in managed components.\n    useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    }, [currentUser]); \n        \n\n\n    return (\n\n        <PopupWithForm \n            name=\"type_edit\" \n            title=\"Edit Profile\" \n            buttonText=\"Save\" \n            isOpen={props.isOpen} \n            onClose={props.onClose}\n            onSubmit = {handleSubmit}\n            >\n            <input id = \"profile-name\" type='text'\n            name='name' \n            value = {name || ''}\n            className=\"popup__input popup__input_type_name\" \n            onChange={handleChangeName} \n            placeholder='Jacques Cousteau' \n            required maxLength=\"40\" minLength=\"2\"/>\n            <span id=\"profile-name-error\" className = \"popup__error\"></span>\n\n            <input id = \"profile-text\" type='text' \n            name='about' className='popup__input popup__input_type_job' \n            value = {description || ''}\n            onChange={handleChangeAbout} placeholder='Explorer' \n            required maxLength=\"200\" minLength=\"2\"/>\n            <span id=\"profile-text-error\" className = \"popup__error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from './PopupWithForm.js';\nimport React, {useRef} from 'react';\n\nfunction EditAvatarPopup(props) {\n    const {isOpen, onClose, onUpdateAvatar} = props;\n    const avatarRef = useRef();\n\n\n    function handleSubmit(e) {\n        // Prevent the browser from navigating to the form address\n        e.preventDefault();\n        // Pass the values of the managed components to the external handler\n        onUpdateAvatar(avatarRef.current.value)/* The value of the input which we got using the ref */\n        }  \n\n\n    return (\n\n    <PopupWithForm \n        name=\"type_avatar\"\n        value = {avatarRef || ''}\n        title=\"Change Profile Picture\" \n        buttonText=\"Save\" \n        isOpen={isOpen} \n        onClose={onClose}\n        onUpdateAvatar={onUpdateAvatar}\n        onSubmit={handleSubmit}>\n        <input id = \"avatar-URL\" type='url' name='avatarURL' className=\"popup__input popup__input_type_avatar-URL\" minLength=\"2\" ref={avatarRef} />\n        <span id=\"avatar-URL-error\" className = \"popup__error\"></span>\n    </PopupWithForm>\n\n    )\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from './PopupWithForm.js';\nimport React, {useState} from 'react';\n\nfunction AddPlacePopup(props) {\n\n    const {\n        isOpen,\n        onClose,\n        onAddPlace\n    } = props;\n\n    const [cardName, setCardName] = useState('');\n    const [link, setLink] = useState('');\n\n    function handleChangeCardName(e){\n        setCardName(e.target.value);\n    }\n\n    function handleChangeLink(e){\n        setLink(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n        // Prevent the browser from navigating to the form address\n        e.preventDefault();\n        // Pass the values of the managed components to the external handler\n        onAddPlace({\n            name: cardName,\n            link\n        });\n        setLink('');\n        setCardName('');\n        }\n\n    return (\n\n        <PopupWithForm \n            name=\"type_add-card\" \n            title=\"New Place\" \n            buttonText=\"Create\" \n            isOpen={isOpen} \n            onClose={onClose}\n            onSubmit={handleSubmit}>\n\n            <input id=\"card-title\" \n            type='text' \n            name='card-title' \n            value = {cardName}\n            onChange = {handleChangeCardName}\n            className=\"popup__input popup__input_type_title\" \n            placeholder='Title' required maxLength=\"30\" minLength=\"2\"/>\n            <span id=\"card-title-error\" className = \"popup__error\"></span>\n\n            <input id=\"card-url\" \n            type='url' \n            name='card-link' \n            value = {link}\n            onChange = {handleChangeLink}\n            className='popup__input popup__input_type_link' \n            placeholder='Image Link' required/>\n            <span id=\"card-url-error\" className = \"popup__error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n  function handleEmail(e) {\n    setEmail(e.target.value)\n}\nfunction handlePassword(e) {\n    setPassword(e.target.value)\n}\nfunction reset() {\n    setEmail('');\n    setPassword('')\n}\nfunction handleSubmit(e) {\n    e.preventDefault();\n    props.handleAuth(password,email);\n    reset()\n}\nreturn (\n    <div className='login'>\n        <div className='login__container'>\n            <img src={props.logo} alt=\"logo\" className=\"logo\" />\n            <Link to='/signup' className='login__link'>Sign up</Link>\n        </div>\n        <form \n            action=\"#\" \n            className='login__form'\n            onSubmit={handleSubmit}>\n            <p className=\"login__title\">Log in</p>\n            <input \n                type=\"email\" \n                name=\"email\" \n                placeholder='Email' \n                className='login__input' \n                value={email}\n                onChange={handleEmail}\n                required/>\n            <input \n                type=\"password\" \n                name=\"password\" \n                placeholder='Password' \n                className='login__input' \n                value={password}\n                onChange={handlePassword}\n                minLength={4}\n                maxLength={12}\n                required/>\n            <button className=\"login__submit\" type='submit'>Log in</button>\n            <Link to='/signup' className=\"login__link login__note\">Not a member yet? Sign up here!</Link>\n        </form>\n    </div>\n)\n}\n\nexport default Login;","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState({});\n\n    function handleEmail(e) {\n        setEmail(e.target.value)\n        setError({...error, [e.target.name]: e.target.validationMessage})\n    }\n    function handlePassword(e) {\n        setPassword(e.target.value)\n        setError({...error, [e.target.name]: e.target.validationMessage})\n    }\n    function reset() {\n        setEmail('');\n        setPassword('')\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        if(!Object.values(error).filter(e => e).length) {\n            props.handleRegister(password,email);\n            reset()\n        }\n    }\n\n    return (\n        <div className='login'>\n            <div className='login__container'>\n                <img src={props.logo} alt=\"logo\" className=\"logo\" />\n                <Link to='/signin' className='login__link'>Log in</Link>\n            </div>\n            <form \n                action=\"#\" \n                className='login__form'\n                onSubmit={handleSubmit}\n                >\n                <p className=\"login__title\">Sign up</p>\n                <input \n                    type=\"email\" \n                    name=\"email\" \n                    placeholder='Email' \n                    className='login__input' \n                    value={email}\n                    onChange={handleEmail}\n                    required/>\n                <input \n                    type=\"password\" \n                    name=\"password\" \n                    placeholder='Password' \n                    className='login__input' \n                    value={password}\n                    onChange={handlePassword}\n                    minLength={4}\n                    maxLength={12}\n                    required/>\n                <button className=\"login__submit\" type='submit'>Sign up</button>\n                <Link to='/signin' className=\"login__link login__note\">Already a member? Log in here!</Link>\n            </form>\n        </div>\n    )\n}\n\nexport default Register;","\nfunction InfoToolTip(props) {\n    const { registered, isOpen, toggle } = props\n\n    return (\n        <div \n            className={`tip ${isOpen && 'tip_visible'}`}\n            onClick={e => e.target === e.currentTarget && toggle()}\n            >\n            <div className='tip__wrapper'>\n                <div className={registered ? 'tip__icon' : 'tip__icon tip__icon_error' } />\n                <p className='tip__text'>\n                    { registered ? \n                        'Success! You have now been registered.' :\n                        'Oops, something went wrong! Please try again.' }\n                </p>\n                <div \n                    className=\"tip__close\"\n                    onClick={toggle} \n                    />\n            </div>\n        </div>\n    )\n}\n\nexport default InfoToolTip;","export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","class Api { \n    constructor({baseUrl, headers}) { \n        //constructor body \n        this._baseUrl = baseUrl; \n        this._headers = headers; \n    } \n \n    // GET specified URL-cards \n    getInitialCards() { \n        return fetch(this._baseUrl + '/cards/', { \n            headers:  this._headers \n        }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n    } \n \n    //GET specified URL -user-info \n    getUserInfo() { \n        return fetch(this._baseUrl + '/users/me/', { \n            headers: this._headers \n        }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n    } \n \n      getAppInfo(){ \n          //gather all info together and render all at once \n          return Promise.all([this.getUserInfo(), this.getInitialCards()]) \n      } \n \n    //POST speicifed url -cards \n    addCard({ name, link }) { \n        return fetch(this._baseUrl + '/cards/', { \n            headers:  this._headers, \n            method: \"POST\", \n            body: JSON.stringify({ \n                name, \n                link \n            }) \n        }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n        .catch(err => console.log(err)) \n    } \n \n    // //DELETE specified url =cardID \n    removeCard(cardID) { \n         return fetch(this._baseUrl + '/cards/' + cardID, { \n             headers:  this._headers, \n             method: \"DELETE\", \n             }) \n         .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n     } \n \n    //PUT specified url cardID \n    //DELETE specified url cardID \n    addLike(cardID) { \n        return fetch(this._baseUrl + '/cards/likes/' + cardID, { \n            headers:  this._headers, \n            method: \"PUT\", \n            }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n    } \n \n    removeLike(cardID){ \n        return fetch(this._baseUrl + '/cards/likes/' + cardID, { \n            headers:  this._headers, \n            method: \"DELETE\", \n            }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))\n    } \n \n    //PATCH user-info \n    setUserInfo({ name, about }) { \n        return fetch(this._baseUrl + '/users/me/', { \n            method: \"PATCH\", \n            headers: this._headers, \n            body: JSON.stringify({ \n                name, \n                about \n        }) \n    }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText))  \n} \n \n    //PATCH avatar \n    setUserAvatar(avatar) { \n        return fetch(this._baseUrl + '/users/me/avatar/', { \n            headers: this._headers, \n            method: \"PATCH\", \n            body: JSON.stringify({ \n                avatar \n            }) \n        }) \n        .then(res => res.ok ? res.json() : Promise.reject('Error' + res.statusText)) \n    } \n} \n//connect api \n// project server URL = https://around.nomoreparties.co/v1/ + ADD Group ID here(group-7)...,  \n//authorization = TOKEN( a950b923-6d6c-4927-9948-6833c1950cc9 ) \nconst api = new Api({ \n    // baseUrl: \"https://around.nomoreparties.co/v1/group-7\", \n    // headers: { \n    //     authorization: \"a950b923-6d6c-4927-9948-6833c1950cc9\", \n    //     \"Content-Type\": \"application/json\" \n    // } \n    baseUrl: 'http://localhost: 3001', \n}); \n\nexport default api;","// const BASE_URL = 'https://register.nomoreparties.co'\nconst BASE_URL = 'http://localhost:3000';\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n    .then(res => res.json())\n};\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      referrerPolicy: 'no-referrer',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n    .then(res => res.json())\n};\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n}","import { Route, Redirect } from 'react-router-dom'\n\nfunction ProtectedRoute({component: Component, ...props}) {\n    return (\n        <Route exact path={props.path}>\n            { props.loggedIn ? props.children : <Redirect to='/signin' /> }\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;","import React, { useEffect, useState } from \"react\";\nimport {Route, Redirect, useHistory} from 'react-router-dom'\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\n\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithImage from \"./PopupWithImage.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoToolTip from \"./InfoToolTip.js\";\nimport logo from \"../images/logo.svg\";\n\nimport api from \"../utils/api.js\";\nimport {checkToken, authorize, register} from '../utils/auth';\nimport ProtectedRoute from \"./ProtectedRoute.js\";\n\nfunction App() {\n  const [editAvatarOpen, setEditAvatarOpen] = useState(false);\n  const [editProfileOpen, setEditProfileOpen] = useState(false);\n  const [addCardOpen, setAddCardOpen] = useState(false);\n  const [deletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [imagePopupOpen, setImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [registered, setRegistered] = useState(false);\n  const [isOpenToolTip, setIsOpenToolTip] = useState(false);\n\n  const history = useHistory();\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    let likeStatus;\n    if (isLiked === false) {\n      likeStatus = api.addLike(card._id);\n    } else {\n      likeStatus = api.removeLike(card._id);\n    }\n    likeStatus\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        //update the state\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const cardList = cards.filter((c) => c._id !== card._id);\n        setCards(cardList);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  //call server for profile content\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      return checkToken(jwt)\n        .then(({ data }) => {\n          if (data) {\n            setLoggedIn(true);\n            setEmail(data.email);\n            return;\n          }\n          setLoggedIn(false);\n        })\n        .catch((err) => console.log(err));\n    }\n    setLoggedIn(false);\n  }, []);\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserInfo({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .setUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function handleAddPlace({ name, link }) {\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  //handler functions for popups\n  function handleEditAvatarClick(e) {\n    setEditAvatarOpen(true);\n  }\n\n  function handleEditProfileClick(e) {\n    setEditProfileOpen(true);\n  }\n\n  function handleAddCardClick(e) {\n    setAddCardOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarOpen(false);\n    setEditProfileOpen(false);\n    setAddCardOpen(false);\n    setDeletePopupOpen(false);\n    setImagePopupOpen(false);\n  }\n\n  function handleClosePopups(e) {\n    if (e.target !== e.currentTarget) return;\n    closeAllPopups();\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function toggleToolTip() {\n    setIsOpenToolTip(!isOpenToolTip);\n  }\n  function handleRegister(password, email) {\n    return register(password, email)\n      .then((res) => {\n        if (res.data) {\n          setLoggedIn(true);\n          history.push(\"/signin\");\n          handleAuth(password, email);\n          setRegistered(true);\n          toggleToolTip();\n          return;\n        }\n        setRegistered(false);\n        toggleToolTip();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAuth(password, email) {\n    authorize(password, email)\n      .then(({ token }) => {\n        if (token) {\n          localStorage.setItem(\"jwt\", token);\n          setLoggedIn(true);\n          setEmail(email);\n          return;\n        }\n        setRegistered(false);\n        toggleToolTip();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleLogin() {\n    setLoggedIn(!loggedIn);\n  }\n\n  return (\n    <div className=\"body\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Route path=\"/signin\">\n          {loggedIn ? (\n            <Redirect to=\"/\" />\n          ) : (\n            <Login logo={logo} handleAuth={handleAuth} />\n          )}\n        </Route>\n        <Route path=\"/signup\">\n          {loggedIn ? (\n            <Redirect to=\"/\" />\n          ) : (\n            <Register logo={logo} handleRegister={handleRegister} />\n          )}\n        </Route>\n        <ProtectedRoute path=\"/\" loggedIn={loggedIn}>\n          <Header \n            logo={logo} \n            email={email} \n            handleLog={handleLogin} />\n          <Main\n            cards={cards}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddCardClick}\n            onCardDelete={handleCardDelete}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCloseButtons={closeAllPopups}\n          />\n          <Footer />\n          <EditAvatarPopup\n            isOpen={editAvatarOpen}\n            onClose={handleClosePopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup\n            isOpen={editProfileOpen}\n            onClose={handleClosePopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={addCardOpen}\n            onClose={handleClosePopups}\n            onAddPlace={handleAddPlace}\n          />\n          <PopupWithForm\n            name=\"type_delete-card\"\n            title=\"Are you sure?\"\n            buttonText=\"Yes\"\n            isOpen={deletePopupOpen}\n            onClose={handleClosePopups}\n          />\n          <PopupWithImage\n            card={selectedCard}\n            isOpen={imagePopupOpen}\n            onClose={handleClosePopups}\n          />\n        </ProtectedRoute>\n        <Route path='/'>\n                { loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' /> }\n            </Route> \n            <InfoToolTip \n                isOpen={isOpenToolTip} \n                registered={registered} \n                toggle={toggleToolTip}\n                />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers here: [https://bit.ly/CRA-PWA](https://bit.ly/CRA-PWA)\nserviceWorker.unregister(); \n\n"],"sourceRoot":""}